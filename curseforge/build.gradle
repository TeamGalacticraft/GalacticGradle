plugins {
    id 'java-gradle-plugin'
    id "org.shipkit.shipkit-changelog"
    id "com.gradle.plugin-publish"
    id "com.adarshr.test-logger"
}

sourceSets {
	main.resources.srcDirs = ['src/main/resources']
}

dependencies {
	implementation 'com.squareup.okhttp3:okhttp:3.14.9'
	implementation 'com.squareup.okhttp3:logging-interceptor:3.14.9'
    implementation 'com.google.code.gson:gson:2.9.0'
	implementation 'com.google.guava:guava:31.0.1-jre'
	implementation 'net.sf.trove4j:trove4j:3.0.3'
	
	compileOnly 'org.projectlombok:lombok:1.18.24'
	annotationProcessor 'org.projectlombok:lombok:1.18.24'
	
	testCompileOnly 'org.projectlombok:lombok:1.18.24'
	testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'
}

gradlePlugin {
    plugins {
        curseforgePlugin {
            id = 'net.galacticraft.gradle.publishing.curseforge'
            description = 'Gradle plugin to upload artifacts to CurseForge'
            implementationClass = 'net.galacticraft.plugins.curseforge.CurseUploadPlugin'
        }
    }
}

pluginBundle {
    website = 'https://galacticraft.net/'
    vcsUrl = 'https://github.com/TeamGalacticraft/GalacticGradle'
    tags = ['galacticraft', 'plugin']
}

publishPlugins {
    onlyIf notSnapshot
}

