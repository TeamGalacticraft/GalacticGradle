plugins {
	id 'com.gradle.plugin-publish' version '0.20.0'
	id 'java-gradle-plugin'
	id 'maven-publish'
}

java.toolchain.languageVersion = JavaLanguageVersion.of(8)

group = 'dev.galacticraft.gradle'
version = '1.0.0'

repositories {
	mavenCentral()
	maven {
		url = 'https://maven.minecraftforge.net'
	}
}

dependencies {
	compileOnly('net.minecraftforge.gradle:ForgeGradle:5.1.31') {
		transitive = false
	}

	compileOnly 'org.projectlombok:lombok:1.18.22'
	annotationProcessor 'org.projectlombok:lombok:1.18.22'
	testCompileOnly 'org.projectlombok:lombok:1.18.22'
	testAnnotationProcessor 'org.projectlombok:lombok:1.18.22'
}

gradlePlugin {
	plugins {
		AddonPlugin {
			id = 'dev.galacticraft.gradle.addonplugin'
			implementationClass = 'dev.galacticraft.gradle.DevBasePlugin'
		}
	}
}

pluginBundle {
	website = 'https://github.com/TeamGalacticraft/galacticraft-addon-gradle-plugin'
	vcsUrl = 'https://github.com/TeamGalacticraft/galacticraft-addon-gradle-plugin'
	description = 'Gradle plugin that helps in the development of Galacticraft Addons'

	plugins {
		AddonPlugin {
			displayName = 'AddonPlugin'
			tags = [
				'minecraftforge',
				'minecraft',
				'galacticraft',
				'galacticraft-addon'
			]
		}
	}
}

publishing {
	publications {
		mavenJava(MavenPublication) {
			groupId project.group
			artifactId 'AddonPlugin'
			version project.version
			artifact jar
		}
	}
	repositories {
		mavenLocal()
	}
}
